<div>
  <!-- Barra de búsqueda global -->
  <div *ngIf="searchEnabled" class="mb-3">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="onSearch()"
      class="form-control"
      placeholder="Search..."
    />
  </div>

  <!-- Tabla dinámica -->
  <table class="table table-striped">
    <thead>
      <tr>
        <th *ngFor="let column of columns" (click)="sortData(column.field)">
          {{ column.header }}
          <span class="sort-icon">▲▼</span>
        </th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of filteredData">
        <td *ngFor="let column of columns">{{ row[column.field] }}</td>
      </tr>
    </tbody>
  </table>

  <!-- Controles de paginación -->
  <nav>
    <ul class="pagination justify-content-center">
      <li
        class="page-item"
        [class.disabled]="currentPage === 1"
        (click)="changePage(currentPage - 1)"
      >
        <a class="page-link">Previous</a>
      </li>
      <li
        *ngFor="let page of [].constructor(totalPages); let i = index"
        class="page-item"
        [class.active]="currentPage === i + 1"
        (click)="changePage(i + 1)"
      >
        <a class="page-link">{{ i + 1 }}</a>
      </li>
      <li
        class="page-item"
        [class.disabled]="currentPage === totalPages"
        (click)="changePage(currentPage + 1)"
      >
        <a class="page-link">Next</a>
      </li>
    </ul>
  </nav>
</div>
