<div>
  <!-- Barra de búsqueda -->
  <div *ngIf="searchEnabled" class="mb-3">
    <input
      type="text"
      [(ngModel)]="searchTerm"
      (input)="onSearch()"
      class="form-control"
      placeholder="Buscar..."
    />
  </div>

  <!-- Tabla dinámica -->
  <table class="table table-striped table-hover">
    <thead>
      <tr>
        <th *ngFor="let column of columns" (click)="sortData(column.field)">
          {{ column.header }}
          <span *ngIf="sortColumn === column.field">
            {{ sortDirection === 'asc' ? '▲' : '▼' }}
          </span>
        </th>
      </tr>
      <tr>
        <th></th>
      </tr>
<tr><th></th></tr>
    </thead>
    <tbody>
      <tr *ngFor="let row of displayedData">
        <td *ngFor="let column of columns">{{ row[column.field] }}</td>
        <td *ngIf="hasButtons"><button type="button" class="btn btn-danger" (click)="openOrdersModal(row.custId)">VIEW ORDERS</button>
        </td>
        <td *ngIf="hasButtons"><button type="button" class="btn btn-success" (click)="openNewOrderModal()">NEW ORDER</button>
        </td>
      </tr>
    </tbody>
  </table>

  <!-- Paginación -->
  <nav *ngIf="totalPages > 1">
    <ul class="pagination justify-content-end">
      <li
        class="page-item"
        [class.disabled]="currentPage === 1"
        (click)="changePage(currentPage - 1)"
      >
        <a class="page-link">Anterior</a>
      </li>
      <li
        *ngFor="let page of [].constructor(totalPages); let i = index"
        class="page-item"
        [class.active]="currentPage === i + 1"
        (click)="changePage(i + 1)"
      >
        <a class="page-link">{{ i + 1 }}</a>
      </li>
      <li
        class="page-item"
        [class.disabled]="currentPage === totalPages"
        (click)="changePage(currentPage + 1)"
      >
        <a class="page-link">Siguiente</a>
      </li>
    </ul>
  </nav>
</div>
